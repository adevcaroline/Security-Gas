<!DOCTYPE html>
<html lang="en">

<head>
    <!-- Configura√ß√£o do documento -->
    <meta charset="UTF-8"> <!-- Define a codifica√ß√£o de caracteres -->
    <meta name="viewport" content="width=device-width, initial-scale=1.0"> <!-- Configura a responsividade -->
    <link rel="stylesheet" href="style/calc.css"> <!-- Link para o arquivo CSS -->
    <title>Calculadora de Risco de Explos√£o</title> <!-- T√≠tulo da p√°gina -->
</head>

<body>
    <!-- Container principal -->
<div class="container">
    <!-- Logo da empresa -->
    <img src="assets/imgs/Frame_1.png" alt="logo da empresa" class="logo">
    <h2>üßØ Calculadora de Riscos Security Gas</h2> <!-- T√≠tulo principal -->

    <!-- Se√ß√£o de informa√ß√µes -->
    <div class="info">
        <h3>üìò Entenda o risco de explos√£o</h3> <!-- Subt√≠tulo -->

        <!-- Informa√ß√µes sobre as m√©tricas do g√°s -->
        <p>
            Um ambiente com g√°s vazando pode explodir se a concentra√ß√£o de ppm estiver entre <strong>1,8%</strong> (LIE)
            e
            <strong>9,5%</strong> (LSE).
            Abaixo de 1,8%, a mistura √© fraca demais para explos√£o. Acima de 9,5%, h√° g√°s demais para explos√£o.
        </p>
        <!-- Lista de riscos -->
        <p>Riscos de uma explos√£o:</p>
        <ul>
            <li>üí£ Danos estruturais severos</li>
            <li>üî• Inc√™ndios e queimaduras</li>
            <li>‚ö†Ô∏è Risco de morte</li>
            <li>üí∏ Preju√≠zos que podem ultrapassar <strong>R$ 50.000</strong></li>
        </ul>
        <!-- Mensagem motivacional -->
        <p><strong style="color: #0B5884;">A preven√ß√£o √© o melhor caminho. Use sensores e mantenha o ambiente
                ventilado.</strong></p>
    </div>

    <!-- Formul√°rio para entrada de dados -->
    <label for="input_patrimonio">Insira o valor do patrim√¥nio da sua cozinha:</label>
    <!-- R√≥tulo para o input de g√°s -->
    <input type="number" id="input_patrimonio"> <!-- Campo para entrada de dados -->

    <label for="input_lucro">Qual o lucro mensal que o seu restaurante gera:</label> <!-- R√≥tulo para o input de g√°s -->
    <input type="number" id="input_lucro"> <!-- Campo para entrada de dados -->

    <label for="input_gasto_gas">Qual o gasto mensal com a compra de g√°s:</label> <!-- R√≥tulo para o input de g√°s -->
    <input type="number" id="input_gasto_gas"> <!-- Campo para entrada de dados -->

    <label for="input_kg_gas">Quantidade de g√°s comprado (em kg):</label> <!-- R√≥tulo para o input de g√°s -->
    <input type="number" id="input_kg_gas"> <!-- Campo para entrada de dados -->

    <label for="input_gas">Quantidade de g√°s vazado (em gramas):</label> <!-- R√≥tulo para o input de g√°s -->
    <input type="number" id="input_gas"> <!-- Campo para entrada de dados -->

    <label for="input_volume">Volume do ambiente (em m¬≥):</label> <!-- R√≥tulo para o volume -->
    <input type="number" id="input_volume"> <!-- Campo para entrada de dados -->

    <label for="input_ventilado">Ambiente ventilado?</label> <!-- R√≥tulo para ventila√ß√£o -->
    <select id="input_ventilado"> <!-- Campo de sele√ß√£o -->
        <option value="sim">Sim</option>
        <option value="nao">N√£o</option>
    </select>

    <label for="input_monitorado">Monitoramento por sensor de g√°s?</label> <!-- R√≥tulo para monitoramento -->
    <select id="input_monitorado"> <!-- Campo de sele√ß√£o -->
        <option value="sim">Sim</option>
        <option value="nao">N√£o</option>
    </select>

    <button onclick="calcularRisco()">Calcular Risco</button> <!-- Bot√£o para calcular o risco -->

    <div id="resultado"></div> <!-- Div para exibir o resultado -->
</div>

<!-- Rodap√© -->
<footer class="rodape">
    <p>¬© 2025 SecurityGas. Todos os direitos reservados.</p>
</footer>
</body>

</html>

<script>
    function calcularRisco() {
        // Cria√ß√£o de vari√°veis para os inputs e resultado
        var patrimonio = Number(input_patrimonio.value);
        var lucro = Number(input_lucro.value);
        var conta_gas = Number(input_gasto_gas.value);
        var gas_total_mes_kg = Number(input_kg_gas.value);
        var gas_vazado_g = Number(input_gas.value); // Valor do input de g√°s
        var volume_m3 = Number(input_volume.value); // Valor do input de volume
        var ventilado = input_ventilado.value; // Valor do input de ventila√ß√£o
        var monitorado = input_monitorado.value; // Valor do input de monitoramento

        // Verifica se os valores s√£o v√°lidos
        if (gas_vazado_g <= 0 || volume_m3 <= 0 || patrimonio <= 0 || lucro <= 0 || conta_gas <= 0) {
            resultado.innerHTML = `<b style="color:red">Por favor, insira valores v√°lidos.</b>`; // Mensagem de erro
        } else {

            var volumeEmLitros = volume_m3 * 1000; // Converte o volume de m¬≥ para litros
            var densidadeAr = 1.2; // Densidade do ar em g/L
            var concentracao = (gas_vazado_g / (densidadeAr * volumeEmLitros)) * 100; // Concentra√ß√£o de g√°s em %

            var valor_gas_grama = conta_gas / (gas_total_mes_kg * 1000)
            var valor_gasto_gas = valor_gas_grama * gas_vazado_g
            var valor_perda_gas = gas_total_mes_kg - (gas_vazado_g / 1000)
            var prejuizo_explos√£o = patrimonio + valor_perda_gas
            var lucro_anual = lucro * 12;
            var prejuizo_lucro_anual = lucro_anual - (valor_perda_gas * 12);
            var prejuizo_total = prejuizo_explos√£o + prejuizo_lucro_anual



            // Limites de explosividade
            var LIE = 1.8; // Limite inferior
            var LSE = 9.5; // Limite superior

            // Inicializa√ß√£o de vari√°veis
            var risco = 0;
            var mensagem = "";
            var mensagem_perda_gas = `Voc√™ desperdi√ßou ${gas_total_mes_kg - valor_perda_gas}kg de ${gas_total_mes_kg}kg de g√°s. que √© igual a <b>R$${valor_gasto_gas}</b>`; /*Olha isso*/
            var mensagem_prejuizo_explos√£o = `Com a explos√£o voc√™ teria um preju√≠zo total de <b>R$${prejuizo_explos√£o}</b>`;
            var mensagem_prejuizo_lucro_anual = `Voc√™ ir√° ter uma perda de <b>R$${prejuizo_lucro_anual}</b> em rela√ß√£o √† <b>R$${lucro_anual}</b> que voc√™ teria em um ano.`;
            var mensagem_prejuizo_total = `No total todos esses fatores iriam gerar <b>R$${prejuizo_total}</b> de preju√≠zo total `;
            var mensagemVentilado = "";
            var mensagemMonitorado = "";
            var alerta = "";
            var cor = "";

            // Verifica a concentra√ß√£o de g√°s
            if (concentracao >= LIE && concentracao <= LSE) {
                risco = 80;
                mensagem = "‚ö†Ô∏è Concentra√ß√£o de g√°s est√° DENTRO da faixa de explosividade.";
            } else if (concentracao > LSE) {
                risco = 50;
                mensagem = "‚ö†Ô∏è Concentra√ß√£o ALTA demais para explos√£o imediata, mas gera riscos de asfixia.";
            } else {
                risco = 20;
                mensagem = "‚úÖ Concentra√ß√£o abaixo da faixa de explosividade.";
            }

            // Verifica ventila√ß√£o
            if (ventilado == "nao") {
                risco += 10;
                mensagemVentilado = "‚ùå Ambiente SEM ventila√ß√£o.";
            } else {
                mensagemVentilado = "‚úÖ Boa ventila√ß√£o detectada.";
            }

            // Verifica monitoramento
            if (monitorado == "nao") {
                risco += 10;
                mensagemMonitorado = "‚ùå Sistema SEM monitoramento ativo.";
            } else {
                mensagemMonitorado = "‚úÖ Ambiente monitorado.";
            }

            if (concentracao > 100) {
                concentracao = 100;
            }
            // Ajusta o risco m√°ximo
            if (risco > 100) {
                risco = 100;
            }

            // Define a cor do risco
            if (risco >= 0 && risco < 50) {
                cor = "green";
            } else if (risco >= 50 && risco < 80) {
                cor = "orange";
            } else {
                cor = "red";
                alerta = "<div class='alerta'>üö® ALERTA: Alta chance de explos√£o! Uma explos√£o pode causar grandes perdas humanas e financeiras.</div>";
            }

            // Calcula o risco com o sistema Security Gas
            var riscoComSecurityGas = risco - (risco * 20 / 100);

            // Exibe o resultado
            resultado.innerHTML = `
            <b>Concentra√ß√£o estimada de g√°s no ar:</b> ${concentracao.toFixed(2)}/100%<br><br>
            <b style="color:${cor}">Risco estimado de explos√£o: ${risco.toFixed(1)}/100%</b><br><br>
            ${mensagem}<br><br>
            ${mensagemMonitorado}<br><br>
            ${mensagemVentilado} <br><br>
            ${mensagem_perda_gas}<br><br>
            ${mensagem_prejuizo_explos√£o}<br><br>
            ${mensagem_prejuizo_lucro_anual} <br><br>
            ${mensagem_prejuizo_total}<br><br>         
            <b style="color:#0077cc">üí° Com o sistema <i>Security Gas</i>, o risco seria reduzido para <u> ${riscoComSecurityGas.toFixed(1)}%</u>.</b>
            `;
        }
    }
</script>