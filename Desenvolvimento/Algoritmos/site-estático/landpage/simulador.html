<!DOCTYPE html>
<html lang="en">

<head>
    <!-- Configura√ß√£o do documento -->
    <meta charset="UTF-8"> <!-- Define a codifica√ß√£o de caracteres -->
    <meta name="viewport" content="width=device-width, initial-scale=1.0"> <!-- Configura a responsividade -->
    <link rel="stylesheet" href="./style/calc.css"> <!-- Link para o arquivo CSS -->
    <link rel="shortcut icon" href="./img/icon.png" type="image/x-icon">
    <title>Calculadora de Risco de Explos√£o</title> <!-- T√≠tulo da p√°gina -->
</head>

<body>
    <!-- Container principal -->
<div class="container">
    <!-- Logo da empresa -->
     <a href="./ladingpageSecurityGas.html">
        <img src="./img/logo.png" alt="logo da empresa" class="logo">
    </a>
    
    <h2>üßØ Calculadora de Riscos Security Gas</h2> <!-- T√≠tulo principal -->

    <!-- Se√ß√£o de informa√ß√µes -->
    <div class="info">
        <h3>üìò Entenda o risco de explos√£o</h3> <!-- Subt√≠tulo -->

        <!-- Informa√ß√µes sobre as m√©tricas do g√°s -->
        <p>
            Um ambiente com g√°s vazando pode explodir se a concentra√ß√£o de ppm estiver entre <strong>1,8%</strong> (LIE)
            e
            <strong>9,5%</strong> (LSE).
            Abaixo de 1,8%, a mistura √© fraca demais para explos√£o. Acima de 9,5%, h√° g√°s demais para explos√£o.
        </p>
        <!-- Lista de riscos -->
        <p>Riscos de uma explos√£o:</p>
        <ul>
            <li>üí£ Danos estruturais severos</li>
            <li>üî• Inc√™ndios e queimaduras</li>
            <li>‚ö†Ô∏è Risco de morte</li>
            <li>üí∏ Preju√≠zos que podem ultrapassar <strong>R$ 50.000</strong></li>
        </ul>
        <!-- Mensagem motivacional -->
        <p><strong style="color: #0B5884;">A preven√ß√£o √© o melhor caminho. Use sensores e mantenha o ambiente
                ventilado.</strong></p>
    </div>

    <!-- Formul√°rio para entrada de dados -->
    <label for="input_patrimonio">Insira o valor do patrim√¥nio da sua cozinha:</label>
    <!-- R√≥tulo para o input de g√°s -->
    <input value="150000" type="number" id="input_patrimonio"> <!-- Campo para entrada de dados -->

    <label for="input_lucro">Qual o lucro mensal que o seu restaurante gera:</label> <!-- R√≥tulo para o input de g√°s -->
    <input value="20000" type="number" id="input_lucro"> <!-- Campo para entrada de dados -->

    <label for="input_gasto_gas">Qual o gasto mensal com a compra de g√°s:</label> <!-- R√≥tulo para o input de g√°s -->
    <input value="1200" type="number" id="input_gasto_gas"> <!-- Campo para entrada de dados -->

    <label for="input_kg_gas">Quantidade de g√°s comprado (em kg):</label> <!-- R√≥tulo para o input de g√°s -->
    <input value="270" type="number" id="input_kg_gas"> <!-- Campo para entrada de dados -->

    <label for="input_gas">Quantidade de g√°s vazado (em gramas):</label> <!-- R√≥tulo para o input de g√°s -->
    <input value="1500" type="number" id="input_gas"> <!-- Campo para entrada de dados -->

    <label for="input_volume">Volume do ambiente (em m¬≥):</label> <!-- R√≥tulo para o volume -->
    <input value="10" type="number" id="input_volume"> <!-- Campo para entrada de dados -->

    <label for="input_ventilado">Ambiente ventilado?</label> <!-- R√≥tulo para ventila√ß√£o -->
    <select id="input_ventilado"> <!-- Campo de sele√ß√£o -->
        <option value="sim">Sim</option>
        <option value="nao">N√£o</option>
    </select>

    <label for="input_monitorado">Monitoramento por sensor de g√°s?</label> <!-- R√≥tulo para monitoramento -->
    <select id="input_monitorado"> <!-- Campo de sele√ß√£o -->
        <option value="sim">Sim</option>
        <option value="nao">N√£o</option>
    </select>

    <button onclick="calcularRisco()">Calcular Risco</button> <!-- Bot√£o para calcular o risco -->

    <div id="resultado"></div> <!-- Div para exibir o resultado -->
</div>

<!-- Rodap√© -->
<footer class="rodape">
    <p>¬© 2025 SecurityGas. Todos os direitos reservados.</p>
</footer>
</body>

</html>

<script>
    function calcularRisco() {
        // Vari√°veis de entrada
        var patrimonio = Number(input_patrimonio.value);
        var lucro = Number(input_lucro.value);
        var conta_gas = Number(input_gasto_gas.value);
        var gas_total_mes_kg = Number(input_kg_gas.value);
        var gas_vazado_g = Number(input_gas.value);
        var volume_m3 = Number(input_volume.value);
        var ventilado = input_ventilado.value;
        var monitorado = input_monitorado.value;

        if (gas_vazado_g <= 0 || volume_m3 <= 0 || patrimonio <= 0 || lucro <= 0 || conta_gas <= 0 || gas_total_mes_kg <= 0) {
            resultado.innerHTML = `<b style="color:red">Por favor, insira valores v√°lidos.</b>`;
            return;
        }

        var volumeEmLitros = volume_m3 * 1000;
        var densidadeAr = 1.2;
        var concentracao = (gas_vazado_g / (densidadeAr * volumeEmLitros)) * 100;

        var valor_gas_grama = conta_gas / (gas_total_mes_kg * 1000);
        var valor_gasto_gas = valor_gas_grama * gas_vazado_g;
        var valor_perda_gas = gas_total_mes_kg - (gas_vazado_g / 1000);

        var prejuizo_explosao = patrimonio + valor_gasto_gas;
        var lucro_anual = lucro * 12;
        var prejuizo_lucro_anual = lucro_anual - (valor_perda_gas * 12);
        var prejuizo_total = prejuizo_explosao + prejuizo_lucro_anual;

        var LIE = 1.8;
        var LSE = 9.5;
        var risco = 0;
        var mensagem = "";
        var alerta = "";
        var cor = "";

        if (concentracao >= LIE && concentracao <= LSE) {
            risco = 80;
            mensagem = "‚ö†Ô∏è Concentra√ß√£o de g√°s est√° DENTRO da faixa de explosividade.";
        } else if (concentracao > LSE) {
            risco = 50;
            mensagem = "‚ö†Ô∏è Concentra√ß√£o ALTA demais para explos√£o imediata, mas gera riscos de asfixia.";
        } else {
            risco = 20;
            mensagem = "‚úÖ Concentra√ß√£o abaixo da faixa de explosividade.";
        }

        var mensagemVentilado = ventilado == "nao" ? "‚ùå Ambiente SEM ventila√ß√£o." : "‚úÖ Boa ventila√ß√£o detectada.";
        if (ventilado == "nao") risco += 10;

        var mensagemMonitorado = monitorado == "nao" ? "‚ùå Sistema SEM monitoramento ativo." : "‚úÖ Ambiente monitorado.";
        if (monitorado == "nao") risco += 10;

        concentracao = Math.min(concentracao, 100);
        risco = Math.min(risco, 100);

        if (risco < 50) {
            cor = "green";
        } else if (risco < 80) {
            cor = "orange";
        } else {
            cor = "red";
            alerta = "<div class='alerta'>üö® ALERTA: Alta chance de explos√£o! Uma explos√£o pode causar grandes perdas humanas e financeiras.</div>";
        }

        var riscoComSecurityGas = risco - (risco * 20 / 100);

        `
        Voc√™ desperdi√ßou 1.50kg de 270.00kg de g√°s, o que √© igual a R$6.67, totalizando R$80.039 em um ano.
        Com lucro mensal de R$20000, totalizar√° R$240000.00 de lucro em um ano.
        Com o risco de 50% de acontecer uma explos√£o, voc√™ teria um preju√≠zo total de R$150006.67, devido ao impacto em seu patrim√¥nio.
        üí° Com o sistema Security Gas, o risco de explos√£o seria reduzido para 40.0%.
        `

        var mensagem_perda_gas = `Voc√™ desperdi√ßou <b>${(gas_vazado_g / 1000).toFixed(2)}kg</b> de <b>${gas_total_mes_kg.toFixed(2)}kg</b> de g√°s, o que √© igual a <b>R$${valor_gasto_gas.toFixed(2)}</b>, totalizando <b>R$${(valor_gasto_gas * 12).toFixed(2)}</b> ao ano.`;
        var mensagem_prejuizo_lucro_anual = `Com <b>R$${lucro}</b> de lucro mensal, totalizando <b>R$${lucro_anual.toFixed(2)}</b> em um ano.`;
        var mensagem_prejuizo_explos√£o = `Com <b>${risco}%</b> de risco de ocorrer uma explos√£o, voc√™ teria um preju√≠zo total de <b>R$${prejuizo_explosao.toFixed(2)}</b> devido ao impacto no seu patrim√¥nio.<br><br>Em caso de explos√£o, caso seu restaurante fique fechado por 6 meses, voc√™ perderia <b>R$${(lucro_anual / 2).toFixed(2)}</b> no ano.`;
        var mensagem_prejuizo_total = `No total, todos esses fatores gerariam <b>R$${prejuizo_total.toFixed(2)}</b> de preju√≠zo.`;

        resultado.innerHTML = `
            <b>Concentra√ß√£o estimada de g√°s no ar:</b> ${concentracao.toFixed(2)}%<br><br>
            <b style="color:${cor}">Risco estimado de explos√£o: ${risco.toFixed(1)}%</b><br><br>
            ${mensagem}<br><br>
            ${mensagemMonitorado}<br><br>
            ${mensagemVentilado} <br><br>
            ${mensagem_perda_gas}<br><br>
            ${mensagem_prejuizo_lucro_anual}<br><br>
            ${mensagem_prejuizo_explos√£o}<br><br>
            <b style="color:#0077cc">üí° Com o sistema <i>Security Gas</i>, o risco seria reduzido para <u>${riscoComSecurityGas.toFixed(1)}%</u>.</b>
            ${alerta}
        `;
    }
</script>